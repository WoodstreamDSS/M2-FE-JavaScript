require(["jquery"],(function($){let bannerIndex=localStorage.getItem("bannerIndex")||0,banners=$("dy-homepage-2022 .hero-banner>div");null==bannerIndex?localStorage.setItem("bannerIndex",0):(bannerIndex++,bannerIndex>banners.length-1&&(bannerIndex=0),localStorage.setItem("bannerIndex",bannerIndex)),banners.eq(bannerIndex).show(),woodstream.VPEqualHeight=function(selector,breakpoint){this.collection=$(selector),this.breakpoint=breakpoint,void 0===this.breakpoint&&(this.breakpoint=0),this.setHeight=function(){var docWidth;if(window.innerWidth>this.breakpoint){var newHeight=0;this.collection.css({height:"auto"}),this.collection.each((function(){var elementHeight=parseInt($(this)[0].scrollHeight);elementHeight>newHeight&&(newHeight=elementHeight)})),this.collection.css({height:newHeight})}else this.collection.css({height:"auto"})}.bind(this),$(window).on("resize",function(){this.collection=$(selector),this.setHeight()}.bind(this)),setTimeout(function(){this.setHeight()}.bind(this),100)},woodstream.ReviewSlider=class{constructor(id,breakpoint=767){this.id=id,this.breakpoint=breakpoint,this.el=$(`#${this.id}`),this.wrap=this.el.find(".review-wrap"),this.reviews=function(){return this.wrap.find(".review")},this.buttons=this.el.find(".review-controls button"),this.count=this.reviews().length,this.touch=new woodstream.TouchObj(this.id,this.touchHandler.bind(this)),this.itemWidth=0,this.buttons.on("click",e=>this.buttonHandler(e)),this.reviewNav=this.el.find(".review-nav"),this.circles=null,this.idx=1,this.mobile=!1,this.autoPlay=!1,this.paused=!1,this.focus=!1,this.hover=!1,this.interval=7e3,$(window).on("resize",()=>{this.resizeHandler()}),this.el.on("keyup",e=>{this.keyHandler(e)}),this.autoPlay&&$(this.el).hover(()=>{this.hover=!0},()=>{this.hover=!1}),this.init()}prev(speed=250){if(!this.wrap.is(":animated")){let lastItem=$(this.wrap).find(".review:last-child"),lastItemClone=lastItem.clone(!0);this.wrap.css({left:-1*this.itemWidth}),this.wrap.prepend(lastItemClone),this.wrap.animate({left:0},speed,()=>{lastItem.remove(),this.idx--,this.updateAria()})}}next(speed=250){if(!this.wrap.is(":animated")){let firstItem=$(this.wrap).find(".review:first-child"),firstItemClone=firstItem.clone(!0);this.wrap.append(firstItemClone),this.wrap.animate({left:-1*this.itemWidth},speed,()=>{firstItem.remove(),this.wrap.css({left:0}),this.idx++,this.updateAria()})}}updateAria(){this.mobile?this.buttons.attr("aria-hidden",!0):this.buttons.attr("aria-hidden",!1),this.idx<0&&(this.idx=this.reviews().length-1),this.idx>this.reviews().length-1&&(this.idx=0),this.reviews().attr("aria-selected",!1),this.wrap.find(`.review[data-idx="${this.idx}"]`).attr("aria-selected",!0),this.circles.each(i=>{let state=!1;i==this.idx&&(state=!0),this.circles.eq(i).attr("aria-selected",state)}),this.reviews().attr("aria-hidden",!0).find("a").attr("tabindex",-1),this.reviews().eq(1).attr("aria-hidden",!1).find("a").attr("tabindex",0)}buttonHandler(e){let button=$(e.currentTarget);button.hasClass("prev")&&this.prev(),button.hasClass("next")&&this.next()}touchHandler(obj){this.mobile&&"end"==obj.status&&(obj.xMove<-50&&this.next(),obj.xMove>50&&this.prev())}circleHandler(circle){let newIndex=$(circle).attr("data-idx");for(;this.idx!=newIndex;)this.next(0)}checkFocus(){const focusEl=$(document.activeElement);1==this.el.find(focusEl).length?this.focus=!0:this.focus=!1}autoPlayHandler(){this.checkFocus(),this.focus||this.hover?this.paused=!0:this.paused=!1;let timer=setTimeout(()=>{this.paused||this.next(),this.autoPlayHandler()},this.interval)}keyHandler(e){37==e.which&&this.prev(),39==e.which&&this.next()}resizeHandler(){this.mobile=window.innerWidth<this.breakpoint,this.itemWidth=this.reviews().eq(0).innerWidth(),this.updateAria()}init(){this.mobile=window.innerWidth<this.breakpoint,this.itemWidth=this.reviews().eq(0).innerWidth(),this.reviews().each((function(i){let state=!1;1==i&&(state=!0),$(this).attr({"aria-labelledby":`tab-${i}`,"data-idx":i,"aria-selected":state})}));let circleWrap=document.createElement("div");$(circleWrap).addClass("circle-wrap").attr("role","tablist");for(let i=0;i<this.reviews().length;i++){let state=!1;$(`.review[data-idx="${i}"]`).attr({id:`review-${i}`,role:"tabpanel"}),1==i&&(state=!0);let navCircle=document.createElement("button");$(navCircle).addClass("nav-circle").attr({id:`tab-${i}`,role:"tab","data-idx":i,"aria-selected":state,"aria-controls":`review-${i}`,"aria-label":`review-${i}`}),$(circleWrap).append(navCircle)}this.reviewNav.append(circleWrap),this.circles=this.reviewNav.find(".nav-circle"),this.circles.on("click",e=>{this.circleHandler(e.currentTarget)}),this.updateAria(),this.autoPlay&&this.autoPlayHandler()}};const reviewTitlesEH=new woodstream.VPEqualHeight("dy-homepage-2022 .mb-reviews .review span.review-title",0),reviewProductsEH=new woodstream.VPEqualHeight("dy-homepage-2022 .mb-reviews .review span.review-product",0),reviewTextEH=new woodstream.VPEqualHeight("dy-homepage-2022 .mb-reviews .review .review-text",0),reviewSlider=new woodstream.ReviewSlider("review-slider")}));