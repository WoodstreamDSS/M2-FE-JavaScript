require(["jquery"],(function($){$(".illustration ul li button").on("click",(function(e){illustrationControl(e.currentTarget)})),$(".illustration ul li button").on("blur",(function(e){let focusEl=$(e.relatedTarget);$(e.relatedTarget).hasClass("product-cta")||null!=focusEl&&0!=$(".illustration ul").find(focusEl).length||illustrationDeactivate(e.currentTarget)}));const illustrationDeactivate=function(el){$(".illustration ul li button").attr({"aria-selected":"false"}),$(".dynadefense-modal").attr({"aria-hidden":"true"}),$(".dynadefense").attr({"data-open":"false"})},illustrationControl=function(el){if("true"==$(el).attr("aria-selected"))illustrationDeactivate();else{$(".illustration ul li button").attr({"aria-selected":"false"}),$(".dynadefense").attr({"data-open":"true"}),$(el).attr("aria-selected","true");let id=$(el).attr("aria-controls");$(".dynadefense-modal").attr({"aria-hidden":"true"}),$(`#${id}`).attr({"aria-hidden":"false"})}};woodstream.howItWorksSlider=class{constructor(id){this.id=id,this.el=$(`#${this.id}`),this.idx=0,this.itemWidth,this.touchHandler=new woodstream.TouchObj(this.id,this.touchHandler.bind(this)),this.circles=$(`#${this.id} ~ .mobile-nav-circles`),this.buttons=$(`#${this.id} ~ .mobile-nav-circles .nav-circle`),$(this.buttons).on("click",e=>this.handleCircle(e))}handleCircle(e){this.idx=$(e.currentTarget).attr("data-idx"),this.el.attr({"data-idx":`${this.idx}`}),this.circles.find(".nav-circle").attr("aria-selected","false"),this.circles.find(`.nav-circle[data-idx="${this.idx}"]`).attr("aria-selected","true")}update(){this.idx>2&&(this.idx=2),this.idx<0&&(this.idx=0),this.el.attr({"data-idx":`${this.idx}`}),this.circles.find(".nav-circle").attr("aria-selected","false"),this.circles.find(`.nav-circle[data-idx="${this.idx}"]`).attr("aria-selected","true")}touchHandler(obj){let docWidth;window.innerWidth<768&&"end"==obj.status&&(obj.xMove<-50&&this.idx++,obj.xMove>50&&this.idx--,this.update())}};let hiwSlider=new woodstream.howItWorksSlider("works-slider"),features=$(".smart-silent-simple .features-grid>div"),paused=!1,clicked=!1,count=0,delay=2e3;const roll=function(){let focusEl=$(document.querySelector(":focus"));$(".smart-silent-simple").find(focusEl).length>0&&(paused=!0),setTimeout((function(){paused||clicked||(features.removeClass("active"),features.eq(count%3).addClass("active"),count++),roll()}),2e3)},makeActive=function(el){features.removeClass("active"),$(el).addClass("active"),count=$(el).index()};features.on("focus",(function(){paused=!1,makeActive($(this))})),features.on("focusin, mouseover",(function(){paused=!0,makeActive($(this))})),features.on("focusout, mouseout",(function(){paused=!1,makeActive($(this))})),features.on("click, blur",(function(){paused=!1,clicked=!1,makeActive($(this))})),roll();const animationReset=()=>{$("#ultraviolet .ray").css("animation-name","none"),$("#fan").css("animation-name","none"),$("#basket").css("animation-name","none"),$("#mosquito").css("animation-name","none"),setTimeout(()=>{$("#ultraviolet .ray").css("animation-name","uv-rays"),$("#fan").css("animation-name","fan-rotate"),$("#basket").css("animation-name","basket-rock"),window.innerWidth<768?$("#mosquito").css("animation-name","mosquitomobile"):$("#mosquito").css("animation-name","mosquito");let body=document.querySelector("body")},100)};$(window).resize(woodstream.Debounce(animationReset,250)),woodstream.ReviewSlider=class{constructor(id,breakpoint=767){this.id=id,this.breakpoint=breakpoint,this.el=$(`#${this.id}`),this.wrap=this.el.find(".review-wrap"),this.reviews=function(){return this.wrap.find(".review")},this.buttons=this.el.find(".review-controls button"),this.count=this.reviews().length,this.touch=new woodstream.TouchObj(this.id,this.touchHandler.bind(this)),this.itemWidth=0,this.buttons.on("click",e=>this.buttonHandler(e)),this.reviewNav=this.el.find(".review-nav"),this.circles=null,this.idx=1,this.mobile=!1,this.autoPlay=!0,this.paused=!1,this.focus=!1,this.hover=!1,this.interval=7e3,$(window).on("resize",()=>{this.resizeHandler()}),this.el.on("keyup",e=>{this.keyHandler(e)}),this.autoPlay&&$(this.el).hover(()=>{this.hover=!0},()=>{this.hover=!1}),this.init()}prev(speed=250){if(!this.wrap.is(":animated")){let lastItem=$(this.wrap).find(".review:last-child"),lastItemClone=lastItem.clone(!0);this.wrap.css({left:-1*this.itemWidth}),this.wrap.prepend(lastItemClone),this.wrap.animate({left:0},speed,()=>{lastItem.remove(),this.idx--,this.updateAria()})}}next(speed=250){if(!this.wrap.is(":animated")){let firstItem=$(this.wrap).find(".review:first-child"),firstItemClone=firstItem.clone(!0);this.wrap.append(firstItemClone),this.wrap.animate({left:-1*this.itemWidth},speed,()=>{firstItem.remove(),this.wrap.css({left:0}),this.idx++,this.updateAria()})}}updateAria(){this.mobile?this.buttons.attr("aria-hidden",!0):this.buttons.attr("aria-hidden",!1),this.idx<0&&(this.idx=this.reviews().length-1),this.idx>this.reviews().length-1&&(this.idx=0),this.reviews().attr("aria-selected",!1),this.wrap.find(`.review[data-idx="${this.idx}"]`).attr("aria-selected",!0),this.circles.each(i=>{let state=!1;i==this.idx&&(state=!0),this.circles.eq(i).attr("aria-selected",state)}),this.reviews().attr("aria-hidden",!0).find("a").attr("tabindex",-1),this.reviews().eq(1).attr("aria-hidden",!1).find("a").attr("tabindex",0)}buttonHandler(e){let button=$(e.currentTarget);button.hasClass("prev")&&this.prev(),button.hasClass("next")&&this.next()}touchHandler(obj){this.mobile&&"end"==obj.status&&(obj.xMove<-50&&this.next(),obj.xMove>50&&this.prev())}checkFocus(){const focusEl=$(document.activeElement);1==this.el.find(focusEl).length?this.focus=!0:this.focus=!1}autoPlayHandler(){this.checkFocus(),this.focus||this.hover?this.paused=!0:this.paused=!1;let timer=setTimeout(()=>{this.paused||this.next(),this.autoPlayHandler()},this.interval)}keyHandler(e){37==e.which&&this.prev(),39==e.which&&this.next()}resizeHandler=()=>{this.mobile=window.innerWidth<this.breakpoint,this.itemWidth=this.reviews().eq(0).innerWidth(),this.updateAria()};init(){this.mobile=window.innerWidth<this.breakpoint,this.itemWidth=this.reviews().eq(0).innerWidth(),this.reviews().each((function(i){let state=!1;1==i&&(state=!0),$(this).attr({"data-idx":i,"aria-selected":state})}));let circleWrap=document.createElement("div");$(circleWrap).addClass("circle-wrap").attr("role","tablist");for(let i=0;i<this.reviews().length;i++){let state=!1;$(`.review[data-idx="${i}"]`).attr("id",`review-${i}`),1==i&&(state=!0);let navCircle=document.createElement("button");$(navCircle).addClass("nav-circle").attr({role:"tab","data-idx":i,"aria-selected":state,"aria-controls":`review-${i}`,"aria-label":`review-${i}`}),$(circleWrap).append(navCircle)}this.reviewNav.append(circleWrap),this.circles=this.reviewNav.find(".nav-circle"),this.circles.on("click",e=>{this.circleHandler(e.currentTarget)}),this.updateAria(),this.autoPlay&&this.autoPlayHandler()}};const reviewSlider=new woodstream.ReviewSlider("review-slider");woodstream.RotatingBanner=class{constructor(id){this.id=id,this.el=$(`#${id}`),this.autoplay="true"==this.el.attr("data-autoplay"),this.navCircles=null,this.circlesEnabled="true"==this.el.attr("data-circles"),this.arrowsEnabled="true"==this.el.attr("data-arrows"),this.delay=1e3*parseInt(this.el.attr("data-delay"))||7e3,this.currentPanel=0,this.animationSpeed=250,this.paused=!1,this.midDrag=!1,woodstream.TouchObj&&(this.touch=new woodstream.TouchObj(this.id,this.touchHandler.bind(this))),this.currentOffset=0,this.dragPanelAdded=!1,this.prevOffset=0,this.el.on("keydown",e=>{this.keyHandler(e)}),this.mask=$(`#${id} .wrb-mask`),this.collection=$(`#${id} .wrb-collection`),this.panels=$(`#${id} .wrb-collection>div`),this.panelCount=this.collection.children().length,this.panelWidth=this.collection.children().outerWidth(),this.initializeAria(),this.arrowsEnabled&&this.renderControls(),this.circlesEnabled&&this.renderCircles(),this.updateAria(),this.autoplay&&this.autoplayInit()}renderControls(){let nextControl=document.createElement("button"),prevControl=document.createElement("button");$(nextControl).attr({id:"wrb-next","aria-label":"Next"}),$(prevControl).attr({id:"wrb-prev","aria-label":"Previous"}),$(this.el).prepend(prevControl),$(this.el).append(nextControl),$(`#${this.id} #wrb-next`).on("click",()=>{this.next()}),$(`#${this.id} #wrb-prev`).on("click",()=>{this.prev()})}renderCircles(){let circles=document.createElement("div");$(circles).addClass("wrb-circles").attr("role","tablist");for(let i=0;i<this.panelCount;i++){let circle=document.createElement("button");$(circle).addClass("wrb-circle").attr({"data-index":i,role:"tab","aria-controls":"panel-"+i,"aria-label":"Go to panel "+i,id:"circle-"+i,"aria-selected":"false"}),0===i&&$(circle).attr("aria-selected","true"),circles.appendChild(circle)}this.el.append(circles),this.navCircles=$(`#${this.id} .wrb-circles .wrb-circle`),this.navCircles.on("click",e=>{this.circleHandler(e)})}goToPanel(target){this.currentPanel!=target&&(this.next(!0),this.goToPanel(target))}circleHandler(e){let targetPanel=$(e.target).attr("data-index");this.goToPanel(targetPanel)}initializeAria(){for(let i=0;i<this.panels.length;i++)$(this.panels[i]).attr({id:"panel-"+i,role:"tabpanel","aria-hidden":"true","data-index":i}),0===i&&$(this.panels[i]).attr("aria-hidden","false")}updateAria(){let current=this.currentPanel;$(`#${this.id} .wrb-collection>div`).each((function(){let index=parseInt($(this).attr("data-index"));$(this).attr("aria-hidden",!(index==current))})),null!==this.navCircles&&this.navCircles.each((function(){let index=parseInt($(this).attr("data-index"));$(this).attr("aria-selected",index==current)})),$(`#${this.id} .wrb-collection>div`).each((function(){"true"==$(this).attr("aria-hidden")?$(this).find("a").attr("tabindex","-1"):$(this).find("a").attr("tabindex","0")}))}keyHandler(e){39==e.keyCode&&this.next(),37==e.keyCode&&this.prev()}touchHandler(obj){if("start"==obj.status&&(this.paused=!0,this.currentOffset=0,this.dragPanelAdded=!1,this.midDrag=!0),"move"==obj.status){if(obj.xMove>0&&!this.dragPanelAdded){let lastBanner,bannerCopy=$(this.collection).children().last().clone(!0);this.collection.prepend(bannerCopy),this.prevOffset=$(document).innerWidth(),this.dragPanelAdded=!0,this.currentOffset=obj.xMove-this.prevOffset}else obj.xMove>0&&1==this.dragPanelAdded?this.currentOffset=obj.xMove-this.prevOffset:obj.xMove<0&&this.dragPanelAdded?($(this.collection).children().first().remove(),this.dragPanelAdded=!1,this.prevOffset=0,this.currentOffset=obj.xMove):obj.xMove<0&&!this.dragPanelAdded&&(this.currentOffset=obj.xMove);this.collection.css({left:this.currentOffset+"px"})}if("end"==obj.status){this.paused=!1;let docWidth=$(document).innerWidth();obj.xMove<0&&(Math.abs(obj.xMove)>docWidth/4?this.next():this.collection.animate({left:0},100)),obj.xMove>0&&(obj.xMove>docWidth/4?this.prev(!1,!0):this.collection.animate({left:"-100vw"},100,()=>{$(this.collection).children().first().remove(),$(this.collection).css({left:0})})),this.midDrag=!1}}next(immediate=!1){let speed=immediate?0:this.animationSpeed;if(!$(this.collection).is(":animated")){let firstBanner=$(this.collection).children().first(),bannerCopy=firstBanner.clone(!0);$(this.collection).append(bannerCopy),$(this.collection).animate({left:"-100%"},speed,()=>{firstBanner.remove(),$(this.collection).css({left:"0"}),this.currentPanel=(this.currentPanel+1)%this.panelCount,this.updateAria()})}}prev(immediate=!1,skipClone=!1){let speed=immediate?0:this.animationSpeed;if(!$(this.collection).is(":animated")){let lastBanner=$(this.collection).children().last(),bannerCopy=lastBanner.clone(!0);skipClone||$(this.collection).prepend(bannerCopy).css({left:"-100%"}),$(this.collection).animate({left:"0"},speed,()=>{lastBanner.remove(),this.currentPanel--,this.currentPanel<0&&(this.currentPanel=this.panelCount-1),this.updateAria()})}}autoplayControl(){this.paused=!(!this.hovered&&!this.focused),this.paused?clearTimeout(this.interval):this.rotateBanners()}rotateBanners(){this.interval=setTimeout(()=>{this.paused||this.midDrag||(this.next(),this.autoplayControl())},this.delay)}autoplayInit(){this.el.on("mouseenter",()=>{this.hovered=!0,this.autoplayControl()}),this.el.on("mouseleave",()=>{this.hovered=!1,this.autoplayControl()}),this.el.on("focusin",()=>{this.focused=!0,this.autoplayControl()}),this.el.on("focusout",()=>{this.focused=!1,this.autoplayControl()}),this.rotateBanners()}};let bannerCollection=[];$(".ws-rotating-banner").each((function(){let id=$(this).attr("id");bannerCollection.push(new woodstream.RotatingBanner(id))}))}));