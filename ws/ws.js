var woodstream = {
  info: {
    version:'1.10.4'
  }
}

require(['jquery'], function($) {

  woodstream.about = function() { console.log(this.info); }

  woodstream.Debounce=function(n,t,e){var o;return function(){var u=this,a=arguments,i=e&&!o;clearTimeout(o),o=setTimeout(function(){o=null,e||n.apply(u,a)},t),i&&n.apply(u,a)}};

  woodstream.FocusLock=function(t){var s=0;this.target=$("#"+t),this.tabList=$("#"+t+" *:tabbable, .ws-modal-screen, #youtube-screen"),this.tabList.length>0&&(this.tabList[s].focus(),$("body").addClass("modalWatch"),$(window).on("focus",function(){s=0,this.tabList[s].focus()}.bind(this)),$(".modalWatch").on("keydown",function(t){9===t.keyCode&&t.preventDefault(),9!=t.keyCode||t.shiftKey||s++,9==t.keyCode&&t.shiftKey&&s--,s>this.tabList.length-1&&(s=0),s<0&&(s=this.tabList.length-1),this.tabList[s].focus()}.bind(this)),this.clear=function(){s=0,$(".modalWatch").off("keydown"),$("body").removeClass("modalWatch")})};

  woodstream.TouchObj=class{constructor(a,b){if(this.startX=0,this.currentX=0,this.endX=0,this.xAmtMoved=0,this.startY=0,this.currentY=0,this.endY=0,this.yAmtMoved=0,this.mousePressed=!1,this.dragThreshold=10,this.element=null,this.dragged=!1,this.obj={},this.objReset=function(){this.obj={status:"",error:"",xStart:0,yStart:0,xCurrent:0,yCurrent:0,yMove:0,xMove:0,xEnd:0,yEnd:0,e:null}},this.objReset(),void 0===b)return this.obj.status="fail",this.obj.error="TouchObj.js: Error, callback not provided.",console.error(obj.error),this.obj;return this.handler=b,null===document.getElementById(a)?(this.obj.status="fail",this.obj.error=`TouchObj.js: Error, target element "#${a}"  does not exist.`,console.error(this.obj.error)):this.element=document.getElementById(a),this.element.addEventListener("click",a=>{this.dragged&&a.preventDefault()}),this.element.addEventListener("touchstart",a=>{this.touchStart(a)},{passive:!0}),this.element.addEventListener("touchmove",a=>{this.touchMove(a)},{passive:!0}),this.element.addEventListener("touchend",a=>{this.touchEnd(a)},{passive:!0}),this.element.addEventListener("mousedown",a=>{this.mouseDown(a)},{passive:!0}),this.element.addEventListener("mouseup",a=>{this.mouseUp(a)},{passive:!0}),this.element.addEventListener("mousemove",a=>{!0===this.mousePressed&&this.mouseMove(a)},{passive:!0}),this.objReset(),this.obj.status="success",this.obj}touchStart(a){this.objReset(),this.startX=parseInt(a.changedTouches[0].pageX),this.startY=parseInt(a.changedTouches[0].pageY),this.obj.status="start",this.obj.yStart=this.startY,this.obj.e=a,this.handler(this.obj)}touchMove(a){this.currentX=parseInt(a.changedTouches[0].pageX),this.currentY=parseInt(a.changedTouches[0].pageY),this.xAmtMoved=this.currentX-this.startX,this.yAmtMoved=this.currentY-this.startY,this.obj.status="move",this.obj.xCurrent=this.currentX,this.obj.yCurrent=this.currentY,this.obj.yMove=this.yAmtMoved,this.obj.xMove=this.xAmtMoved,this.obj.e=a,this.handler(this.obj)}touchEnd(a){this.endX=parseInt(a.changedTouches[0].pageX),this.endY=parseInt(a.changedTouches[0].pageY),this.obj.status="end",this.obj.xEnd=this.endX,this.obj.yEnd=this.endY,this.obj.e=a,this.handler(this.obj)}mouseDown(a){this.dragged=!1,this.objReset(),this.mousePressed=!0,this.startX=parseInt(a.clientX),this.startY=parseInt(a.clientY),this.obj.status="start",this.obj.xStart=this.startX,this.obj.yStart=this.startY,this.obj.e=a,this.handler(this.obj)}mouseMove(a){this.currentX=parseInt(a.clientX),this.currentY=parseInt(a.clientY),this.xAmtMoved=this.currentX-this.startX,this.yAmtMoved=this.currentY-this.startY,this.obj.status="move",this.obj.xCurrent=this.currentX,this.obj.yCurrent=this.currentY,this.obj.yMove=this.yAmtMoved,this.obj.xMove=this.xAmtMoved,this.obj.e=a,(this.obj.xMove>this.dragThreshold||this.obj.yMove>this.dragThreshold||this.obj.xMove< -this.dragThreshold||this.obj.yMove< -this.dragThreshold)&&(this.dragged=!0),this.handler(this.obj)}mouseUp(a){this.mousePressed=!1,this.endX=parseInt(a.clientX),this.endY=parseInt(a.clientY),this.obj.status="end",this.obj.xEnd=this.endX,this.obj.yEnd=this.endY,this.obj.e=a,this.handler(this.obj)}}

  woodstream.YoutubeCollection=class{constructor(){this.videoObjArray=[],this.videoSelector=$(".youtube-player"),this.lock=null,this.play=document.createElement("div"),this.play.setAttribute("class","play"),this.play.innerHTML='<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve"><style type="text/css">.st0{opacity:0.8;}.st1{fill:#FFFFFF;}</style><g class="st0"><circle class="st1" cx="50" cy="50" r="43.5"/><path d="M50,8c23.2,0,42,18.8,42,42S73.2,92,50,92S8,73.2,8,50S26.8,8,50,8 M50,5C25.1,5,5,25.1,5,50s20.1,45,45,45s45-20.1,45-45 S74.9,5,50,5L50,5z"/></g><g class="st0"><circle cx="50" cy="50" r="39.5"/><path class="st1" d="M50,11c21.5,0,39,17.5,39,39S71.5,89,50,89S11,71.5,11,50S28.5,11,50,11 M50,10c-22.1,0-40,17.9-40,40 s17.9,40,40,40s40-17.9,40-40S72.1,10,50,10L50,10z"/></g><polygon class="st1" points="39.5,39.5 39.5,64.5 64.5,49.5 39.5,34.5 "/></svg>',this.init()}getThumb(t){let e=this.videoObjArray[t],i=document.createElement("div"),s=document.createElement("img");return s.setAttribute("alt",e.alt),s.setAttribute("src",e.getThumb()),i.appendChild(s),i.appendChild(this.play),i.outerHTML}populate(t){let e=document.createElement("div");$(e).attr({"data-ytidx":t.idx,"data-id":t.id,tabindex:"0"}),e.innerHTML=this.getThumb(t.idx),t.el.html(e)}clickHandler(t){this.videoObjArray[t].modal?this.showModal(t):this.showVideo(t)}showVideo(t){let e=this.getIframe(this.videoObjArray[t]);this.videoObjArray[t].el.html(e)}showModal(t){let e=this.getIframe(this.videoObjArray[t]),i=document.createElement("div");$(i).attr({id:"youtube-screen",tabindex:0});let s=document.createElement("div");s.setAttribute("id","youtube-modal");let r=document.createElement("div");r.setAttribute("class","youtube-player"),r.appendChild(e),s.appendChild(r);let a=function(){$("#youtube-modal, #youtube-screen").fadeOut(250,(function(){$("#youtube-modal, #youtube-screen").remove()}))};$("body").append(i).append(s),$("#youtube-screen").on("click",(function(){a()})),$("#youtube-screen").on("keydown",(function(t){13!==t.which&&32!==t.which||a()}))}getIframe(t){let e=document.createElement("iframe");return $(e).attr({src:`https://www.youtube.com/embed/${t.id}?autoplay=1&rel=0&modestbranding=1&controls=0`,frameborder:"0",allowfullscreen:"1",tabindex:0}),e}swap(t){let e=this.videoObjArray[t];e.observer.disconnect(),e.id=e.el.attr("data-id"),e.thumb=e.getThumb(),this.populate(e),this.createObserver(e)}createObserver(t){t.observer=new MutationObserver((e=>{e.forEach((e=>{"attributes"==e.type&&this.swap(t.idx)}))})),t.observer.observe(t.el[0],{attributes:!0})}openIndex(t){let e=parseInt($(t).find("div[data-ytidx]").attr("data-ytidx")),i=!1;for(let t=0;t<this.videoObjArray.length&&(this.videoObjArray[t].idx==e&&(this.clickHandler(t),i=!0),!i);t++);}init(){this.videoSelector.each(((t,e)=>{this.videoObjArray.push(new woodstream.YoutubeVideo(t,e))}));for(let t=0;t<this.videoObjArray.length;t++)this.populate(this.videoObjArray[t]),this.videoObjArray[t].mutate&&this.createObserver(this.videoObjArray[t]);$(".youtube-player").on("click",(t=>{this.openIndex(t.currentTarget)})),$(".youtube-player").on("keydown",(t=>{13!=t.which&&32!=t.which||(s.clickHandler(i),this.openIndex(t.currentTarget))}))}},woodstream.YoutubeVideo=class{constructor(t,e){this.el=$(e),this.idx=t,this.id=this.el.attr("data-id"),this.parseBool=function(t){return!0===t||"true"===t};let i=this.parseBool;this.mutate=i(this.el.attr("data-mutate")),this.modal=i(this.el.attr("data-modal")),this.hd=i(this.el.attr("data-hd")),this.thumbSize="/hqdefault.jpg",this.hd&&(this.thumbSize="/maxresdefault.jpg"),this.alt=this.el.attr("title"),this.customThumb=this.el.attr("data-thumb"),this.thumb=`https://i.ytimg.com/vi/${this.id}${this.thumbSize}`}getThumb(){return this.mutate?`https://i.ytimg.com/vi/${this.id}${this.thumbSize}`:this.customThumb?this.customThumb:this.thumb}};var videoCollection=new woodstream.YoutubeCollection;

  woodstream.EqualHeight=function(i,t){this.collection=i,this.breakpoint=t,void 0===this.breakpoint&&(this.breakpoint=0),this.setHeight=function(){if(window.innerWidth>this.breakpoint){var i=0;this.collection.css({height:"auto"}),this.collection.each(function(){var t=parseInt($(this)[0].scrollHeight);t>i&&(i=t)}),this.collection.css({height:i})}else this.collection.css({height:"auto"})}.bind(this),$(window).on("resize",function(){this.setHeight()}.bind(this)),setTimeout(function(){this.setHeight()}.bind(this),100)};

  woodstream.ExpandItem=function(i){this.el=$(i),this.open=!1,this.question=this.el.find(".question");var t=document.createElement("div");t.setAttribute("class","indicator closed"),this.question.append(t),this.indicator=this.el.find(".indicator"),this.answer=this.el.find(".answer"),this.question.on("click",function(){this.toggle()}.bind(this)),this.links=this.answer.find("a"),this.links.attr({tabindex:-1}),this.question.on("keydown",function(i){13!==i.which&&32!==i.which||this.toggle()}.bind(this)),this.breakpoint=1/0;var s=parseInt(this.el.attr("data-breakpoint"));isNaN(s)||(this.breakpoint=s),this.toggle=function(i){if(window.innerWidth<this.breakpoint||i)if(this.open)this.el.removeClass("active"),this.answer.animate({height:0},200,function(){this.answer.attr({"aria-hidden":!0}),this.question.attr({"aria-expanded":!1}),this.open=!1,this.indicator.removeClass("open").addClass("closed"),this.links.attr({tabindex:-1})}.bind(this));else{this.el.addClass("active"),this.answer.css({display:"block"});var t=this.answer[0].scrollHeight;this.answer.animate({height:t},200,function(){this.answer.css({height:"auto"}),this.links.attr({tabindex:0}),this.answer.attr({"aria-hidden":!1}),this.question.attr({"aria-expanded":!0}),this.indicator.removeClass("closed").addClass("open"),this.open=!0}.bind(this))}};var e=window.innerWidth;this.el.hasClass("open")&&e>this.breakpoint&&this.toggle(!0),e>this.breakpoint&&this.indicator.hide(),$(window).on("resize",function(){window.innerWidth>this.breakpoint?(this.indicator.hide(),0==this.open&&this.breakpoint>0&&this.toggle(!0)):this.indicator.show()}.bind(this))};var expandItems=$(".expand-item"),expandCollection=[],i=0;expandItems.length>0&&expandItems.each(function(){$(this).attr({id:"exp-"+i}),$(this).find(".question").attr({"aria-controls":"ans-"+i,"aria-expanded":!1,role:"button",tabindex:0}),$(this).find(".answer").attr({id:"ans-"+i,role:"region","aria-hidden":!0}),expandCollection.push(new woodstream.ExpandItem("#exp-"+i)),i++});

  woodstream.ModalItem=class{constructor(e){this.target=e,this.modal=$("#"+e),this.screenOff=this.modal.attr("data-screen-off"),null==this.screenOff&&(this.screenOff=!1),this.screenCode=document.createElement("div"),this.screenCode.setAttribute("class","ws-modal-screen"),this.screenOff?$(this.screenCode).addClass("no-close"):this.screenCode.setAttribute("tabindex","0"),this.screen=null,this.tabList=null,this.lock=null,this.modalOpen=!1,this.button=null,$(`[data-target="${e}"]`).length>0&&(this.button=$(`[data-target="${e}"]`),this.button.attr("aria-controls",e),this.modal.attr({"aria-hidden":!0,role:"dialog"})),null!=this.button&&this.button.on("click",(()=>{this.open()})),this.modal.attr("aria-hidden",!0)}open(){if($(".ws-modal-screen").length<=0){return $("body").append(this.screenCode),this.screen=$(".ws-modal-screen"),this.modal.fadeIn(250,(()=>{this.lock=new woodstream.FocusLock(this.target)})),this.screen.fadeIn(250),$("body").addClass("modalClose"),this.screenOff||($("body.modalClose").on("keydown",(e=>{27===e.keyCode&&this.close()})),this.screen.on("click",function(){this.close()}.bind(this)),this.screen.on("keydown",function(e){13!==e.which&&32!==e.which||this.close()}.bind(this))),this.modalOpen=!0,{modal_id:this.target,open:!0,message:"Modal open"}}return{modal_id:this.target,open:!1,message:"Another modal already open"}}close(){if(this.modalOpen){return console.log("modal is open, attempting to close"),$("body.modalClose").off("keydown"),$("body").removeClass("modalClose"),this.lock&&this.lock.clear(),this.modal.fadeOut(250,(()=>{this.modal.attr("aria-hidden",!0)})),this.screen.fadeOut(250,(()=>{this.screen.remove()})),this.modalOpen=!1,{modal_id:this.target,open:!1,message:"Modal closed"}}return{modal_id:this.target,open:!1,message:"Modal already closed"}}},woodstream.modalControl=(e,o)=>{let t={modal_id:e,open:!1,message:"Modal not found"};for(let s=0;s<woodstream.modalCollection.length;s++)e==woodstream.modalCollection[s].target&&(t=o?woodstream.modalCollection[s].open():woodstream.modalCollection[s].close());return t};let modals=$(".ws-modal-content");modals.length>0&&(woodstream.modalCollection=[],modals.each((function(){let e=$(this).attr("id");null==e?console.error("woodstream.ModalItem: modal is missing unique id"):woodstream.modalCollection.push(new woodstream.ModalItem(e))})));

  woodstream.LeftNav=function(t){this.el=$(t),this.main=this.el.find(".sidebar-menu"),this.main.attr("role","tree"),this.groups=null,this.branches=null,this.init=function(){this.groups=this.main.find("ul"),this.groups.each(function(){$(this).attr({role:"group","aria-expanded":!1}).addClass("group"),$(this).parent("li").attr({role:"treeitem"}).addClass("branch"),$(this).children("li").attr({role:"treeitem"}),$(this).find("a").attr({tabindex:-1})}),this.main.children(".branch").attr("tabindex",-0),this.branches=this.main.find(".branch"),this.branches.on("keydown",function(t){13!==t.which&&32!==t.which||(t.stopPropagation(),this.interaction(t.currentTarget))}.bind(this)),this.branches.on("click",function(t){t.stopPropagation(),this.interaction(t.currentTarget)}.bind(this)),this.interaction=function(t){var i=$(t).children(".group");i.hasClass("open")?this.closeGroup(i):this.openGroup(i)},this.closeGroup=function(t){t.parent("li").removeClass("active"),t.removeClass("open").attr("aria-expanded",!1),t.find(".group").removeClass("open"),t.find("li.branch").attr("tabindex",-1),t.find("li").children("a").attr("tabindex",-1)},this.openGroup=function(t){t.parent("li").addClass("active"),t.addClass("open").attr("aria-expanded",!0),t.children("li.branch").attr("tabindex",0),t.children("li").children("a").attr("tabindex",0)}}.bind(this),this.init()};var leftNavs=$(".ws-sidebar");if(leftNavs.length>0){var navCollection=[];leftNavs.each(function(){navCollection.push(new woodstream.LeftNav(this))})}

  woodstream.SimpleTabs=function(t){this.el=$(t),this.panels=this.el.find(".panel"),this.panelCount=this.panels.length,this.nav=this.el.find("nav"),this.navButtons=this.nav.find("button"),this.mobileButtons=null;var i=parseInt(this.el.attr("data-breakpoint"));null!=this.el.attr("data-indicators")?this.indicators="true"===this.el.attr("data-indicators").toLowerCase():this.indicators=!1,this.breakpoint=0,this.activeTab=0,this.accordion=!1,this.forceOpen=!1,this.initialized=!1,"true"==this.el.attr("data-accordion-force-open")&&(this.forceOpen=!0),isNaN(i)||(this.breakpoint=i),this.init=function(){this.nav.attr("role","tablist");var t=window.innerWidth;this.accordion=t<=this.breakpoint,this.navButtons.length!==this.panelCount&&console.error("SimpleTabs: Number of Buttons and Panels must be the same.");for(var i=0;i<this.panelCount;i++){if(this.panels.eq(i).attr({role:"tabpanel",id:"panel-"+i}),this.navButtons.eq(i).attr({role:"tab","aria-controls":"panel-"+i,"data-index":i}),0==i){var a=!1;this.navButtons.eq(i).addClass("active")}else a=!0;this.panels.eq(i).attr("aria-hidden",a);var e=$(document.createElement("button"));if(e.addClass("mobileTab").attr({"aria-controls":"panel-"+i,role:"tab","aria-hidden":!0,"data-index":i}),0==i&&e.addClass("active"),e.text(this.navButtons.eq(i).text()),this.indicators){console.log("indicator");var n=$(document.createElement("div"));console.log(n),n.addClass("indicator"),e.append(n)}e.insertBefore(this.panels.eq(i))}if(this.mobileButtons=this.el.find(".mobileTab"),this.navButtons.on("click",function(t){this.clickHandler($(t.target))}.bind(this)),this.mobileButtons.on("click",function(t){this.clickHandler($(t.target))}.bind(this)),this.panels.each(function(){"true"==!$(this).attr("data-accordion-open")?$(this).attr("aria-hidden",!1):$(this).attr("aria-hidden",!0)}),this.accordion)for(var s=0;s<this.panels.length;s++){var o=this.panels.eq(s);0==s&&"false"!=o.attr("data-accordion-open")?this.mobileButtons.eq(s).trigger("click"):"true"==o.attr("data-accordion-open")&&this.mobileButtons.eq(s).trigger("click")}this.resizeHandler(),this.initialized=!0},this.clickHandler=function(t){var i=parseInt(t.attr("data-index"));this.activeTab=i;var a=$("#"+t.attr("aria-controls"));this.accordion?a.hasClass("active")||(this.panels.attr("aria-hidden",!0).removeClass("active"),a.attr("aria-hidden",!1).addClass("active open"),this.initialized&&$("html,body").animate({scrollTop:a[0].offsetTop})):(this.panels.attr("aria-hidden",!0),a.attr("aria-hidden",!1)),this.navButtons.removeClass("active"),this.mobileButtons.removeClass("active"),this.navButtons.eq(i).addClass("active"),this.mobileButtons.eq(i).addClass("active")},$(this.el).on("keydown",function(t){37==t.which&&this.activeTab--,39==t.which&&this.activeTab++,this.activeTab<0&&(this.activeTab=this.panelCount-1),this.activeTab>=this.panelCount&&(this.activeTab=0),13==t.which&&$(t.target).hasClass("mobileTab")&&this.navButtons.eq(this.activeTab).trigger("click")}.bind(this)),this.resizeHandler=function(){window.innerWidth<this.breakpoint?(this.accordion=!0,this.navButtons.attr("aria-hidden",!0),this.mobileButtons.attr("aria-hidden",!1)):(this.accordion=!1,this.navButtons.attr("aria-hidden",!1),this.mobileButtons.attr("aria-hidden",!0)),this.checkPanelState()},this.checkPanelState=function(){this.accordion?this.accordion&&1==this.forceOpen&&this.panels.addClass("open").attr("aria-hidden",!1):(this.panels.removeClass("open active"),this.navButtons.eq(this.activeTab).trigger("click"))},$(window).resize(woodstream.Debounce(this.resizeHandler,250).bind(this)),this.init()};var tabSelection=$(".ws-simple-tabs");if(tabSelection.length>0){var tabCollection=[];tabSelection.each(function(){tabCollection.push(new woodstream.SimpleTabs(this))})}$(document).ready(function(){var t=window.location.hash.split("#",3);if(t.shift(),$("#"+t[0]).trigger("click"),t.shift(),t.length>0){var i=document.getElementById(t[0]);setTimeout(function(){i.scrollIntoView()},500)}});
  !function(t){woodstream.PhotoSelector=function(i){this.el=t(i),this.thumbs=this.el.find(".wsps-thumbs img"),this.target=this.el.find(".wsps-main img"),this.caption=this.el.find(".wsps-caption span"),this.clickHandler=function(t){this.thumbs.attr("aria-selected",!1).attr("tabindex",0),t.attr("aria-selected",!0);var i=t.attr("data-large"),a=t.attr("data-caption");null==a&&(a="");var s=t.attr("alt");this.target.attr("src",i).attr("alt",s),this.caption.text(a)},this.init=function(){this.thumbs.attr("aria-selected",!1);var t=this.thumbs.first();this.clickHandler(t)},this.thumbs.on("click",function(i){var a=t(i.target);this.clickHandler(a)}.bind(this)),this.thumbs.on("keydown",function(i){if(13===i.which||32===i.which){var a=t(i.target);this.clickHandler(a)}}.bind(this)),this.init()};var i=t(".ws-photo-selector");if(i.length>0){var a=[];i.each(function(){a.push(new woodstream.PhotoSelector(this))})}}(jQuery);

  woodstream.VideoLink=function(el){this.el=$(el),this.id=this.el.attr("data-id"),this.lock=null,this.showModal=function(){if(0===$("#youtube-modal").length){let iframe=this.getIframe(this.id),screen=document.createElement("div");$(screen).attr({id:"youtube-screen",tabindex:0,role:"button","aria-label":"Close video"});let modal=document.createElement("div");modal.setAttribute("id","youtube-modal");let player=document.createElement("div");player.setAttribute("class","youtube-player"),player.appendChild(iframe),modal.appendChild(player);let closeModal=function(){$("#youtube-modal, #youtube-screen").fadeOut(250,(function(){$("#youtube-modal, #youtube-screen").remove()}))};$("body").append(screen).append(modal),$("#youtube-screen").on("click",(function(){closeModal()})),$("#youtube-screen").on("keydown",(function(e){13!==e.which&&32!==e.which||closeModal()})),this.lock=new woodstream.FocusLock("youtube-modal")}}.bind(this),this.getIframe=function(videoId){let iframe=document.createElement("iframe"),embed="https://www.youtube.com/embed/"+videoId+"?autoplay=1&mute=1;rel=0";return $(iframe).attr({src:embed,frameborder:"0",allowfullscreen:"1",tabindex:0}),iframe},this.el.on("click",function(e){e.preventDefault(),this.showModal()}.bind(this)),this.el.on("keydown",function(e){" "!=e.key&&"Enter"!==e.key||(e.preventDefault(),this.showModal())}.bind(this))};let videoLinks=$(".video-link");if(videoLinks.length>0){let videoLinkCollection=[];videoLinks.each((function(){videoLinkCollection.push(new woodstream.VideoLink(this))}))}

  woodstream.BlockSlider=function(i,t){this.name=i,this.id=$("#"+i),this.panelWidth=0,this.panelCount=this.id.find(".panel").length,this.controls=this.id.find(".controls"),this.rightCtrl=this.id.find(".controls.right"),this.leftCtrl=this.id.find(".controls.left"),this.wrap=this.id.find(".panel-wrap"),this.visible=0,this.touch=null,this.swipeActive=!1,this.breakpoint=parseInt(this.id.attr("data-breakpoint")),(isNaN(this.breakpoint)||null==this.breakpoint)&&(this.breakpoint=1/0),this.hide=function(){this.wrap.find(".panel").attr("aria-hidden",!0),this.wrap.find(".panel a").attr("tabindex",-1),this.controls.attr("tabindex",-1),this.wrap.find(".youtube-player>div").attr("tabindex",-1)},this.show=function(){this.updateAria(),this.updateControls()},this.left=function(){if(this.panelWidth=this.id.find(".panel").outerWidth(!0),!this.wrap.is(":animated")){var i=this.wrap.find(".panel:last-child");this.wrap.css("left",-1*this.panelWidth);var t=i.clone(!0,!0);i.prependTo(this.wrap),t.appendTo(this.wrap),this.wrap.animate({left:0},250,function(){t.remove(),this.updateAria()}.bind(this))}},this.right=function(){if(this.panelWidth=this.id.find(".panel").outerWidth(!0),!this.wrap.is(":animated")){var i=this.wrap.find(".panel:first-child");i.clone(!0,!0).appendTo(this.wrap),this.wrap.animate({left:-1*this.panelWidth},250,function(){this.wrap.css("left",0),i.remove(),this.updateAria()}.bind(this))}},$(window).on("resize",function(){this.panelWidth=this.id.find(".panel").outerWidth(!0)}.bind(this)),this.leftCtrl.on("click",function(){this.left()}.bind(this)),this.rightCtrl.on("click",function(){this.right()}.bind(this)),this.id.on("keyup",function(i){37==i.which&&this.right(),39==i.which&&this.left()}.bind(this)),this.updateAria=function(){if(this.wrap.find(".panel").attr("aria-hidden",!0),this.wrap.find(".panel a").attr("tabindex",-1),this.wrap.find(".panel .youtube-player>div").attr("tabindex",-1),this.visible==1/0)var i=this.panelCount;else i=this.visible;var t=".panel:nth-child(-n+"+i+")";this.wrap.find(t).attr("aria-hidden",!1),this.wrap.find('.panel[aria-hidden="false"] a').attr("tabindex",0),this.wrap.find('.panel[aria-hidden="false"] .youtube-player>div').attr("tabindex",0)}.bind(this),this.updateControls=function(){this.visible>=this.panelCount?(this.controls.hide().attr("tabindex",0),this.swipeActive=!1):(this.controls.show().attr("tabindex",0),this.swipeActive=!0),window.innerWidth>this.breakpoint&&(this.swipeActive=!1)}.bind(this),$(window).on("resize",function(){this.panelWidth=this.id.find(".panel").outerWidth(),this.visible=Math.floor(this.wrap.innerWidth()/this.panelWidth),this.updateAria(),this.updateControls()}.bind(this)),this.touchHandler=function(i){"end"===i.status&&this.swipeActive&&(i.xMove>50&&this.left(),i.xMove<-50&&this.right())}.bind(this),this.init=function(){this.rightCtrl.attr({"aria-controls":this.name}),this.leftCtrl.attr({"aria-controls":this.name}),this.id.attr({"aria-roledescription":"carousel"}),this.id.find(".panel").attr({role:"group","aria-roledescription":"slide"}),this.panelWidth=this.id.find(".panel").outerWidth(),this.visible=Math.floor(this.wrap.innerWidth()/this.panelWidth),this.updateAria(),this.updateControls(),woodstream.TouchObj&&(this.touch=new woodstream.TouchObj(this.name,this.touchHandler))},this.init()};

  woodstream.SlideNav=class{constructor(a){this.el=$(a),this.id=this.el.attr("id"),this.nav=this.el.children("ul").eq(0),this.lastItem=this.el.find("ul li:last-child"),this.navlimit=null,this.startPos=null,this.activeItem=this.el.find("ul li.active"),$(window).on("resize",()=>{this.setNavLimit()}),this.touch=new woodstream.TouchObj(this.id,this.navHandler.bind(this)),this.setNavLimit(),this.checkActive()}setNavLimit(){this.nav.css({left:0}),this.el.removeClass("left"),this.navLimit=parseInt(window.innerWidth-20-(this.lastItem.offset().left+this.lastItem.outerWidth())),this.navLimit<0?this.el.addClass("right"):this.el.removeClass("right")}navHandler(b){let a;"start"==b.status&&(this.startPos=parseInt(this.nav.css("left"))),"move"==b.status&&this.navLimit<=0&&((a=this.startPos+b.xMove)>0&&(a=0),a<this.navLimit&&(a=this.navLimit),this.checkFade(a),this.nav.css({left:a}))}checkFade(a){0===a?this.el.removeClass("left"):this.el.addClass("left"),a===this.navLimit?this.el.removeClass("right"):this.el.addClass("right")}checkActive(){let b=this.el.offset().left+this.el.width();if(this.activeItem.offset().left+this.activeItem.width()>b){let a=b/2-this.activeItem.offset().left-this.activeItem.innerWidth()/2;a<this.navLimit&&(a=this.navLimit),this.nav.css({left:a}),this.checkFade(a)}}};let slideNavs=$(".ws-slide-nav");if(slideNavs.length>0){let a=[];slideNavs.each(function(){a.push(new woodstream.SlideNav(this))})}

  woodstream.getCookie=function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var r=o[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}

  woodstream.setCookie=function(e,t,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"};

  if($(".ws-megamenu-control").length>0){var mobileMenuHeadings=$(".ws-megamenu-control h3.heading");mobileMenuHeadings.each(function(e){var n=$(this).next(".link-group");let t=$(this).attr("data-mobile-open");if(t=null!=t&&"true"===t,$(this).next(".link-group").length>0){var a=document.createElement("button");$(a).addClass("mobileArrow"),t&&$(a).addClass("open"),$(a).attr("aria-controls",n.attr("id")),$(a).append('<i class="fas fa-chevron-right"></i>'),$(this).append(a),n.attr("aria-hidden",!t)}$(this).find("a:not(.mobile-active)").on("click",function(e){woodstream.megamenuMobileMode&&(e.preventDefault(),$(this).parent("h3").trigger("click"))})}),$(".ws-megamenu-control a").on("click",function(e){e.stopPropagation()}),$(".ws-megamenu-control h3").on("click",function(e){e.stopPropagation(),$(this).find(".mobileArrow").trigger("click")}),$(".ws-megamenu-control .mobileArrow").on("click",function(e){e.stopPropagation(),handleClick(this)});var handleClick=function(e){$(e).toggleClass("open");var n="#"+$(e).attr("aria-controls"),t="true"===$(n).attr("aria-hidden");$(n).attr("aria-hidden",!t),!0===("true"===$(n).attr("aria-hidden"))?$(n).find("a").attr("tabindex",-1):$(n).find("a").attr("tabindex",0)};woodstream.megamenuMobileMode=window.innerWidth<=767,woodstream.megamenuMobileMode?$(".ws-megamenu-control .link-group a").attr("tabindex",-1):$(".ws-megamenu-control .link-group").attr("aria-hidden",!1),$(window).on("resize",function(){!woodstream.megamenuMobileMode&&window.innerWidth<=767&&($(".ws-megamenu-control .link-group").each(function(){"true"===$(this).prev("h3").attr("data-mobile-open")?$(this).attr("aria-hidden",!1):$(this).attr("aria-hidden",!0)}),$('.ws-megamenu-control .link-group[aria-hidden="true"] a').attr("tabindex",-1),woodstream.megamenuMobileMode=!0),woodstream.megamenuMobileMode&&window.innerWidth>767&&($(".ws-megamenu-control .link-group").attr("aria-hidden",!1),$(".ws-megamenu-control .link-group a").attr("tabindex",0),woodstream.megamenuMobileMode=!1)})}

  woodstream.SingleProductRec=function(e){if(this.el=e,this.sku=this.el.attr("data-sku"),this.storeID=window.checkout.storeId,this.baseURL="https://"+window.location.host,this.jsondata,this.buildSPR=function(e){if(e.items.length>0){var t=e.items[0],s=document.createElement("a"),r=document.createElement("div"),i=document.createElement("img"),o=document.createElement("span"),a=document.createElement("span"),n=document.createElement("span");$(s).addClass("spr-link").attr("href",t.url),$(r).addClass("spr-content").appendTo($(s)),$(i).addClass("spr-image").attr("src",t.images[0].url).attr("alt",t.name).appendTo($(r)),$(o).addClass("spr-title").text(t.name).appendTo($(r)),$(a).addClass("spr-price").text("$"+t.price_info.final_price).appendTo($(r)),$(n).addClass("cta").text("Shop Now").appendTo($(r)),$(s).appendTo(this.el),this.el.show()}else console.error(`woodstreamSingleProductRec: ${this.sku} not found.`)},this.getJson=function(e){jQuery.ajax({async:!0,global:!1,url:e,dataType:"json",success:function(e){this.buildSPR(e)}.bind(this),error:function(e){console.log(e),this.el.hide()}.bind(this)})},this.sku){var t=this.baseURL+"/rest/all/V1/products-render-info?searchCriteria[filterGroups][0][filters][0][field]=sku&searchCriteria[filterGroups][0][filters][0][value]="+this.sku+"&storeId="+this.storeID+"&currencyCode=$";this.getJson(t)}else console.error("woodstream.SingleProductRec: ws-spr is missing data-sku attribute")};var sprItems=$(".ws-spr");if(sprItems.length>0){var sprCollection=[];sprItems.each(function(){sprCollection.push(new woodstream.SingleProductRec($(this)))})}

  woodstream.ModalImage=class{constructor(t,e){this.el=$(t),this.el.attr("id","ws-mi-"+e),this.id=this.el.attr("id"),this.img=null,this.modal=null,this.modalActual=null,this.target=this.el.attr("data-target"),this.modalContent=null,this.screenCode=document.createElement("div"),this.screenCode.setAttribute("class","ws-modal-screen"),this.screenCode.setAttribute("tabindex","0"),this.screen=null,this.tabList=null,this.lock=null,this.error=!1,this.init()}clickHandler(){!this.img||this.error?(this.img=new Image,$(this.img).on("load",()=>{this.error=!1,this.showModal()}),$(this.img).on("error",()=>{console.error(`woodstream.ModalImage: error loading '${this.target}'`),this.error=!0}),this.modal=document.createElement("aside"),$(this.modal).attr({role:"dialog",class:"ws-modal-content ws-modal-image",id:this.id+"-content"}),$(this.modal).append(this.img),this.img.src=this.target):this.showModal()}showModal(){$("body").append(this.screenCode),$("body").append(this.modal),this.modalActual=$(`#${this.id}-content`),this.screen=$(".ws-modal-screen"),this.screen.on("click",()=>this.close()),$(this.modalActual).fadeIn(250,function(){this.lock=new woodstream.FocusLock}.bind(this)),$(this.screen).fadeIn(250),$("body").addClass("modalClose"),$("body.modalClose").on("keydown",t=>{27!=t.which&&13!=t.which&&32!=t.which||this.close()})}close(){$("body.modalClose").off("keydown"),$("body").removeClass("modalClose"),this.lock.clear(),$(`#${this.id}-content`).fadeOut(250),$(".ws-modal-screen").fadeOut(250,function(){$(this).remove()})}init(){this.el.attr({role:"button",tabindex:0}),this.el.on("click",()=>this.clickHandler()),this.el.on("keydown",t=>{t.stopPropagation(),13!=t.which&&32!=t.which||this.clickHandler()})}};var modalImages=$(".ws-modal-image");if(modalImages.length>0){var modalImageCollection=[];modalImages.each(function(t){modalImageCollection.push(new woodstream.ModalImage(this,t))})}

woodstream.MobileMenuList = class {
  constructor(id) {
    this.id = id;
    this.el = $(`#${this.id}`);
    this.controller = $(`.list-header[data-target="${this.id}"]`);
    this.controller.on('click', (e) => {
      if (this.mobile) { this.clickHandler(e); };
    });
    this.mobile = false;

    this.updateDocumentState();
    $(window).on('resize', () => { this.updateDocumentState(); });

    this.init();
  }

  updateDocumentState() {
    if (window.innerWidth < 767) { this.mobile = true; }
  }

  init() {
    this.el.find('a').attr({'tabindex':-1});
    $(`.list-header[data-target="${this.id}"]>a`).attr({'tabindex':0});

    $(`#${this.id}>li`).attr({'role':'treeitem'});
    let parentList = this.el.parents('.mobile-menu-list');
    if (parentList.length == 0) {
      this.el.attr({'role':'tree', 'data-level':parentList.length});
    } else {
      this.el.attr({'role':'group', 'data-level':parentList.length});
    }

    let arrowContainer = document.createElement('div');

    let tabState;
    this.mobile ? tabState = 0 : this.tabState = -1;
    $(arrowContainer).attr({'class':'mobile-arrow', 'tabindex':tabState});
    $(this.controller).append(arrowContainer);

  }

  clickHandler(e) {
    e.preventDefault();
    e.stopPropagation();
    if ($(this.el).hasClass('open')) {
      this.controller.removeClass('open');
      $(this.el).attr('aria-expanded', 'false').removeClass('open');
      $(this.el).find('a').attr('tabindex', -1);
    } else {
      this.controller.addClass('open');
      $(this.el).attr('aria-expanded', 'true').addClass('open');
      $(this.el).find('a').attr('tabindex', 0);
    }
  }
}

let megamenuControls = $('.mobile-menu-list');
let megamenuCollection = [];
megamenuControls.each(function() {
  megamenuCollection.push(new woodstream.MobileMenuList($(this).attr('id')));
});


});