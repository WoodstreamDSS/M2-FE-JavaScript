require(["jquery"],(function($){let reviewSlider=new woodstream.BlockSlider("review-slider"),megamenuMode=window.innerWidth<768?"mobile":"desktop";const toggleMobileNav=state=>{let newState;newState=state||"true"!=(state=$(".pp-home-nav").attr("aria-hidden")),$(".pp-home-nav, .mobile-nav-screen").attr("aria-hidden",newState)},updateNavMode=()=>{"mobile"==megamenuMode&&toggleMobileNav("true"),megamenuMode=window.innerWidth<768?"mobile":"desktop",$(".pp-home-nav").attr("data-nav-mode",megamenuMode)};$(window).on("resize",()=>{updateNavMode()}),window.innerWidth>767?$(".pp-home-nav").css("display","block"):($(".pp-home-nav").attr("data-nav-mode","true"),setTimeout(()=>{$(".pp-home-nav").css("display","block")},250)),$(".mobile-menu-toggle, .mobile-nav-screen").on("click",e=>{toggleMobileNav()}),"mobile"==megamenuMode&&toggleMobileNav(),$(".nav-item-wrap > li").on("mouseover",e=>{window.innerWidth>767&&openMegamenu(e)}),$(".nav-item-wrap > li").on("mouseout",e=>{window.innerWidth>767&&closeMegamenu(e)}),$(".nav-item-wrap > li").on("focusin",e=>{window.innerWidth>767&&openMegamenu(e)}),$(".nav-item-wrap > li").on("focusout",e=>{if(window.innerWidth>767){let contains;$(e.currentTarget).find($(e.relatedTarget)).length>0||closeMegamenu(e)}});const openMegamenu=e=>{let el=e.currentTarget,links;"A"==el.tagName&&(el=el.parentElement),$(el).find(".pp-megamenu-container").attr("aria-hidden",!1),$(el).find(".pp-megamenu a").attr("tabindex",0)},closeMegamenu=e=>{let el=e.currentTarget,links;"A"==el.tagName&&(el=el.parentElement),$(el).find(".pp-megamenu-container").attr("aria-hidden",!0),$(el).find(".pp-megamenu a").attr("tabindex",-1)};$(".pp-home-nav .nav-item-l1:not(.mobile-active)>a").on("click",(function(e){if("mobile"==megamenuMode){e.preventDefault();let state,newState="true"!=$(e.currentTarget).parent("li").attr("data-mobile-open");$(e.currentTarget).parent("li").attr("data-mobile-open",newState)}}));let mobileYPos=0,mobileNav=$("#mobile-nav"),mobileNavContent=$("#mobile-nav .content"),minY=0;$(window).on("resize",()=>{mobileYPos=0;let mode,newTop="desktop"==$("#mobile-nav").attr("data-nav-mode")?"26em":0;mobileNav.css({top:newTop})});const recalculateMinY=()=>{let viewportHeight=mobileNav[0].getBoundingClientRect().height,navHeight=mobileNavContent[0].getBoundingClientRect().height;newMinY=viewportHeight-navHeight,newMinY>0&&(newMinY=0),minY=newMinY,mobileYPos<minY&&(mobileNav.css("top",minY),mobileYPos=minY)};recalculateMinY(),$("#mobile-nav a, #mobile-nav button").on("click",(function(){recalculateMinY()}));const mobileTouchHandler=obj=>{if(window.innerWidth<768){let newIndex=mobileYPos+obj.yMove;"start"==obj.status&&(recalculateMinY(),$("body").css("position","fixed")),"move"==obj.status&&(newIndex>0&&(newIndex=0),newIndex<minY&&(newIndex=minY),mobileNav.css({top:newIndex})),"end"==obj.status&&(newIndex<=0?mobileYPos+=newIndex:mobileYPos=0,$("body").css("position","static"))}};let mobileNavTouch=new woodstream.TouchObj("mobile-nav",mobileTouchHandler);const updateMobileMenu=target=>{if(woodstream.megamenuMobileMode){let group=target.next(".link-group"),state="true"==group.attr("aria-hidden");group.attr("aria-hidden",!state)}};$(".menu-column h3.heading button.mobileArrow").on("click",(function(){let target=$(this).parent("h3");updateMobileMenu(target)}))}));